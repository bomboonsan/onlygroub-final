---
import { Image } from 'astro:assets';

import { formatDateToThai } from '../lib/formatDate';

const { post } = Astro.props;
---
<main>
<article>
    <header class="content-header">
        <a class="content-category" href=`/category/${post.terms.nodes[0].slug}` rel="category tag">{post.terms.nodes[0].name}</a>
        <h1 class="content-title">{post.title}</h1>
        <time datetime={post.date}>{formatDateToThai(post.date)}</time>
    </header>
    <figure class="content-cover">
        <Image
            src={post.featuredImageFull.node.sourceUrl}
            alt={post.featuredImageFull.node.altText}
            width="800"
            height="450"
            sizes="(max-width: 800px) 100vw, 800px"
            loading="eager"
        />
    </figure>
    <div class="entry-content" set:html={post.content.replace('<a href="https://assets.onlygroub', '<a href="https://onlygroub')}></div>
</article>
</main>